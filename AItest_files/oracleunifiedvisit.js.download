/* Copyright (c) 2005-2014 Oracle and/or its affiliates. Contains software licensed under the MIT license. Removal of this notice is prohibited. Full attribution and licensing at: http://recmanager.atg.com/api/license.html */
(function(){var c=window.OracleUnifiedVisit||{};if(!c.VERSION){var y=0,l="cloud-commerce-visit.oracleoutsourcing.com",q=function(a,z){return a.replace(/^([^/:]*:?\/\/)*([^\/]+[^\.])\//,function(a,b,c){return(z?"https:":document.location.protocol)+"//"+c+"/"})},r=function(a){var b=document.createElement("script");b.charset="utf-8";b.src=q(a);(a=document.head||document.body||document.getElementsByTagName("html")[0])&&a.appendChild(b)},A=function(){requestCallback=function(a){a&&(t(a.visitId),setTimeout(m,
.8*parseInt(a.timeToLive,10)),(a=c.handle)&&a())};this.send=function(){var a=q(l+"/Visit/unified/v1/visit/"+e+"/"+b+"?dnc\x3d"+ +new Date),c=window.JSON&&JSON.parse,d;if(window.XMLHttpRequest&&c&&(d=new XMLHttpRequest,"withCredentials"in d)){d.open("GET",a,!0);d.onreadystatechange=function(){4==this.readyState&&200==this.status&&this.responseText&&requestCallback(c(this.responseText))};d.withCredentials=!0;d.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset\x3dutf-8");d.setRequestHeader("Accept",
"application/json");d.send();return}d="cb"+y++;p[d]=requestCallback;r(a+"\x26callback\x3dOracleUnifiedVisit."+d)}},u,f=function(){n||(n=1,h(b)&&e&&v(),h(b)||m())},m=function(){n&&e&&(new A).send()},n,k={get:function(a){for(var b=document.cookie.split(/; ?/),d=0,c;d<b.length;)if(c=b[d++].split("\x3d"),c[0]==a)return null!=c[1]?decodeURIComponent(c[1]):""},set:function(a,b,c){var f="; path\x3d/",e=location.hostname,h=e.split("."),g=h.length;/^(\d{1,3}\.){3}\d{1,3}$/.test(e)||(e=(size=2<g&&/^(COM|EDU|NET|ORG|GOV|MIL|INT)$/i.test(h[g-
1])?-2:3<g?-3:0)?"."+h.slice(size).join("."):1==g?0:e);f+=e?"; domain\x3d"+e:"";c&&(f+="; expires\x3dFri, 01 Jan 2038 00:00:00 GMT");document.cookie=a+"\x3d"+encodeURIComponent(b)+f}},h=function(a){return!a||"undefined"==a||/^-?\d+$/.test(a)},t=function(a){a&&(w=a);return w},v=function(){u||(u=1,r(l+"/Visit/xd/v1/"+e+"/xd.js"))},e,b,g="xdVisitorId",w,x=function(a){if(e=a)g="xd"+a,b=k.get(g),h(b)||m(),h(b)&&e&&v()},p=window.OracleUnifiedVisit={accountId:c.accountId,visitorId:function(a){a&&(k.set(g,
a,!0),b=a);return k.get(g)||b},visitId:t,setXD:function(a){a||(a={});b=k.get(g);h(b)&&(b=a.visitorId)&&k.set(g,b);h(b)||m()},setEEID:x,setHost:function(a){l=a},VERSION:174};p.eeid=c.eeid||(window._OracleUnifiedVisit||{}).eeid||p.eeid;c.host&&(l=c.host);c.accountId&&x(c.accountId);(function(){document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1);f()},!1):document.attachEvent&&"complete"!=document.readyState&&
(document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),f())}),document.documentElement.doScroll&&window==window.top&&function(){if(!n){try{document.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}f()}}());var a="load"+f;window.attachEvent?(window["e"+a]=f,window[a]=function(){window["e"+a](window.event)},window.attachEvent("onload",window[a])):window.addEventListener("load",
f,!1)})();/in/.test(document.readyState)||f()}})();
